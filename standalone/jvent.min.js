(function(e){"use strict";function i(){this.collection={};this.maxListeners=10}var t=e.Object,n=e.Array,r=function(){if(typeof n.isArray==="function"){return n.isArray}return function(e){return t.prototype.toString.call(e)==="[object Array]"}}();i.prototype.addListener=function(e,t,n){if(e===undefined){throw new Error('jvent - "addListener(event, listener)": It should receive an event.')}if(t===undefined){throw new Error('jvent - "addListener(event, listener)": It should receive a listener function.')}var r=this.collection;t.once=n||false;if(r[e]===undefined){r[e]=[]}if(r[e].length+1>this.maxListeners&&this.maxListeners!==0){throw new Error("Warning: So many listeners for an event.")}r[e].push(t);this.emit("newListener");return this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(e,t){this.on(e,t,true);return this};i.prototype.removeListener=function(e,t){if(e===undefined){throw new Error('jvent - "removeListener(event, listener)": It should receive an event.')}if(t===undefined){throw new Error('jvent - "removeListener(event, listener)": It should receive a listener function.')}var n=this.collection[e],i=0,s;if(r(n)){s=n.length;for(i;i<s;i+=1){if(n[i]===t){n.splice(i,1);break}}}return this};i.prototype.off=i.prototype.removeListener;i.prototype.removeAllListeners=function(e){if(e===undefined){throw new Error('jvent - "removeAllListeners(event)": It should receive an event.')}delete this.collection[e];return this};i.prototype.setMaxListeners=function(e){if(isNaN(e)){throw new Error('jvent - "setMaxListeners(n)": It should receive a number.')}this.maxListeners=e;return this};i.prototype.listeners=function(e){if(e===undefined){throw new Error('jvent - "listeners(event)": It should receive an event.')}return this.collection[e]};i.prototype.emit=function(){var e=n.prototype.slice.call(arguments,0),t=e[0],i,s,o,u;if(t===undefined){throw new Error('jvent - "emit(event)": It should receive an event.')}if(typeof t==="string"){t={type:t}}if(!t.target){t.target=this}if(r(this.collection[t.type])){i=this.collection[t.type];o=0;u=i.length;s=e.splice(1);for(o;o<u;o+=1){i[o].apply(this,s);if(i[o].once){this.off(t.type,i[o]);u-=1;o-=1}}}return this};if(typeof e.define==="function"&&e.define.amd!==undefined){e.define("Jvent",[],function(){return i})}else if(typeof module!=="undefined"&&module.exports!==undefined){module.exports=i}else{e.Jvent=e.EventEmitter=i}})(this);